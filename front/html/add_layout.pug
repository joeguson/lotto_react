extends ./layout

block js
    script(type="text/javascript" src='./js/addArticle.js')
    script(type="text/javascript" src='./js/updateArticle.js')
    script(type="text/javascript" src="/js/jsForAllJade.js")
    script(type="text/javascript" src="./public/b-dialog.js")
    script(type="text/javascript" src="./public/b-link/b-link.js")
    script(type="text/javascript" src="./public/b-link/b-link-dialog.js")
    script(type="text/javascript" src="./public/b-editor/b-editor.js")
    block addJs

block css
    link(rel="stylesheet" href="../css/add_layout.css" type="text/css")
    link(rel="stylesheet" href="../css/b-dialog.css" type="text/css")
    link(rel="stylesheet" href="../css/b-link.css" type="text/css")
    block addCss

block submain

block main
    .article
        block newArticleInfo
        p
            input(class="thumbnail" id="thumbnail" type='text' name='thumbnail' placeholder='thumbnail' maxlength="200")
        p.infoP
            span(class='infoSpan' id='thumbnailInfo') 200/200
        p
            block newArticleContent
        p
            input(class="hashtag" id='hashtag' type='text' name='hashtag' placeholder='#put #hashtags #like #this')
        p.infoP
            span(class='infoSpan' id='hashInfo') 20/20
        p
            block newArticleSubmit

block jscript
    script.
        thumbnail.addEventListener('keyup', function () {
            var count = 200;
            count -= thumbnail.value.length;
            thumbnailInfo.innerHTML = count + '/200';
            if (count < 1) {
                thumbnailInfo.innerHTML = 'exceeds the limit';
            }
        });
        hashtag.addEventListener('keydown', function () {
            var count = 20;
            count -= (hashtag.value.match(/#/gi) || []).length;
            hashInfo.innerHTML = count + '/20';
            if (count < 1) { // 아직 구현 못함
                hashInfo.innerHTML = 'exceeds the limit';
            }
        });