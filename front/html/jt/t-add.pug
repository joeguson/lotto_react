extends ../layout
include ../add_mixIn

block js
    script(type="text/javascript" src="/js/jsForAllJade.js")
    script(src="./public/b-editor/b-editor.js")
    script(src='./js/addPandT.js')

block css
    link(rel="stylesheet" href="../css/tandya_add.css" type="text/css")


block nav
    include ../nav_mixIn
    +navi('t')

block submain
  //.ad Advertisement
  
block main  
    article
        +input('text', 'question', 'what is your question', '200', 'title', 'question')
        p.infoP    
            span(id='questionInfo' class='infoSpan') 200/200
        p
            label
                input(id='rbP' type='radio' value='p' name="public" checked)
                span  public
            label       
                input(id='rbA' type='radio' value='a' name="public")
                span  anonymous
        +input('text', 'thumbnail', 'thumbnail', '200', 'thumbnail', 'thumbnail')
        p.infoP
            span(id='thumbnailInfo' class='infoSpan') 200/200
        p
            b-editor(id='editor' width="90%" height="600px" name="content")
        +input('text', 'hashtag', '#put #hashtags #like #this', '200', 'thumbnail', 'hashtag')
        p.infoP
            span(id='hashInfo' class='infoSpan') 20/20
        p
            button(class="submit" name='t' onclick='postArticle(this)') ask
    script.
        function checksubmit(){
            if(title.value.length < 5){
                alert('judulnya harus lebih dari 5 alphabet');
                return false;
            }
            if(content.value.length < 5){
                alert('kontennya harus lebih dari 5 alphabet');
                return false;
            }
            return true;
        }
        question.addEventListener('keyup', function(){
            var count = 200;
            count -= question.value.length;
            questionInfo.innerHTML = count + '/200';
            if(count < 1){
                questionInfo.innerHTML = 'exceeds the limit';
            }
        });
        thumbnail.addEventListener('keyup', function(){
            var count = 200;
            count -= thumbnail.value.length;
            thumbnailInfo.innerHTML = count + '/200';
            if(count < 1){
                thumbnailInfo.innerHTML = 'exceeds the limit';
            }
        });
        hashtag.addEventListener('keydown', function(){
            var count = 20;
            count -= (hashtag.value.match(/#/gi) || []).length;
            hashInfo.innerHTML = count + '/20';
            if(count < 1){//아직 구현 못함
                hashInfo.innerHTML = 'exceeds the limit';
            }
        });
